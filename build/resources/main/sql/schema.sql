
CREATE TABLE IF NOT EXISTS users(
    id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    username VARCHAR(60) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL
);


CREATE TABLE IF NOT EXISTS tasks(
   id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
   name VARCHAR(80) NOT NULL,
   deadline DATE NOT NULL,
   priority INTEGER CHECK (priority <= 5 AND priority >= 1),
   completed BOOLEAN DEFAULT FALSE,
   user_id BIGINT NOT NULL REFERENCES users(id) ON DELETE CASCADE
);
